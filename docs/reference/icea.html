<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Individualized cost-effectiveness analysis — icea • hesim</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content="Individualized cost-effectiveness analysis — icea" />

<meta property="og:description" content="Conduct individualized cost-effectiveness analysis (ICEA) given output of an economic
model. That is, summarize a probabilistic sensitivity analysis (PSA) by subgroup.
icea() computes the probability that
each treatment is most cost-effective, output for a cost-effectiveness acceptability frontier,
the expected value of perfect information, and the net monetary benefit for each treatment.
icea_pw() conducts pairwise ICEA by comparing strategies to a comparator. Computed
quantities include the incremental cost-effectiveness ratio, the 
incremental net monetary benefit, output for a cost-effectiveness plane,
and output for a cost-effectiveness acceptability curve.
" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hesim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">API</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/intro.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/psm.html">Partitioned survival models</a>
    </li>
    <li>
      <a href="../articles/ctstm.html">Continuous time state transition models</a>
    </li>
    <li>
      <a href="../articles/icea.html">Individualized cost-effectiveness analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/InnovationValueInitiative/hesim">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Individualized cost-effectiveness analysis</h1>
    <small class="dont-index">Source: <a href='https://github.com/InnovationValueInitiative/hesim/blob/master/R/cea.R'><code>R/cea.R</code></a></small>
    <div class="hidden name"><code>icea.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Conduct individualized cost-effectiveness analysis (ICEA) given output of an economic
model. That is, summarize a probabilistic sensitivity analysis (PSA) by subgroup.</p><ul>
<li><p><code>icea()</code> computes the probability that
each treatment is most cost-effective, output for a cost-effectiveness acceptability frontier,
the expected value of perfect information, and the net monetary benefit for each treatment.</p></li>
<li><p><code>icea_pw()</code> conducts pairwise ICEA by comparing strategies to a comparator. Computed
quantities include the incremental cost-effectiveness ratio, the 
incremental net monetary benefit, output for a cost-effectiveness plane,
and output for a cost-effectiveness acceptability curve.</p></li>
</ul>
    
    </div>

    <pre class="usage"><span class='fu'>icea</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='fu'>icea_pw</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>icea</span>(<span class='no'>x</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0</span>, <span class='fl'>2e+05</span>, <span class='fl'>500</span>), <span class='no'>sample</span>, <span class='no'>strategy</span>,
  <span class='kw'>grp</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>e</span>, <span class='no'>c</span>, <span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>icea_pw</span>(<span class='no'>x</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0</span>, <span class='fl'>2e+05</span>, <span class='fl'>500</span>), <span class='no'>comparator</span>, <span class='no'>sample</span>,
  <span class='no'>strategy</span>, <span class='kw'>grp</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>e</span>, <span class='no'>c</span>, <span class='no'>...</span>)

<span class='co'># S3 method for ce</span>
<span class='fu'>icea</span>(<span class='no'>x</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0</span>, <span class='fl'>2e+05</span>, <span class='fl'>500</span>), <span class='no'>dr_qalys</span>, <span class='no'>dr_costs</span>, <span class='no'>...</span>)

<span class='co'># S3 method for ce</span>
<span class='fu'>icea_pw</span>(<span class='no'>x</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0</span>, <span class='fl'>2e+05</span>, <span class='fl'>500</span>), <span class='no'>comparator</span>, <span class='no'>dr_qalys</span>,
  <span class='no'>dr_costs</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An object of simulation output characterizing the probability distribution
of clinical effectiveness and costs. If the default method is used, then <code>x</code>
must be a <code>data.frame</code> or <code>data.table</code> containing columns of
mean costs and clinical effectiveness where each row denotes a randomly sampled parameter set
and treatment strategy.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to or from other methods. Currently unused.</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>Vector of willingness to pay values.</p></td>
    </tr>
    <tr>
      <th>sample</th>
      <td><p>Character name of column from <code>x</code> denoting a randomly sampled parameter set.</p></td>
    </tr>
    <tr>
      <th>strategy</th>
      <td><p>Character name of column from <code>x</code> denoting treatment strategy.</p></td>
    </tr>
    <tr>
      <th>grp</th>
      <td><p>Character name of column from <code>x</code> denoting subgroup. If <code>NULL</code>, then
it is assumed that there is only one group.</p></td>
    </tr>
    <tr>
      <th>e</th>
      <td><p>Character name of column from <code>x</code> denoting clinical effectiveness.</p></td>
    </tr>
    <tr>
      <th>c</th>
      <td><p>Character name of column from <code>x</code> denoting costs.</p></td>
    </tr>
    <tr>
      <th>comparator</th>
      <td><p>Name of the comparator strategy in x.</p></td>
    </tr>
    <tr>
      <th>dr_qalys</th>
      <td><p>Discount rate for quality-adjusted life-years (QALYs).</p></td>
    </tr>
    <tr>
      <th>dr_costs</th>
      <td><p>Discount rate for costs.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>icea</code> returns a list containing four <code>data.table</code>s:</p>
<dl class='dl-horizontal'>
  <dt>summary</dt><dd><p>A <code>data.table</code> of the mean, 2.5% quantile, and 97.5% 
  quantile by strategy and group for clinical effectiveness and costs.</p></dd>
  <dt>mce</dt><dd><p>The probability that each strategy is the most effective treatment
  for each group for the range of specified willingness to pay values. In addition,
  the column <code>best</code> denotes the optimal strategy (i.e., the strategy with the
  highest expected net monetary benefit), which can be used to plot the 
  cost-effectiveness acceptability frontier (CEAF).</p></dd>
  <dt>evpi</dt><dd><p>The expected value of perfect information (EVPI) by group for the range
  of specified willingness to pay values. The EVPI is computed by subtracting the expected net
  monetary benefit given current information (i.e., the strategy with the highest
  expected net monetary benefit) from the expected net monetary benefit given
  perfect information.</p></dd>
   <dt>nmb</dt><dd><p>The mean, 2.5% quantile, and 97.5% quantile of net monetary benefits
   for the range of specified willingness to pay values.</p></dd>
</dl>

<p><code>icea_pw</code> also returns a list containing four data.tables:</p><dl class='dl-horizontal'>
  <dt>summary</dt><dd><p>A data.table of the mean, 2.5% quantile, and 97.5% 
  quantile by strategy and group for clinical effectiveness and costs.</p></dd>
  <dt>delta</dt><dd><p>Incremental effectiveness and incremental cost for each simulated
  parameter set by strategy and group. Can be used to plot a cost-effectiveness plane.</p></dd>
  <dt>ceac</dt><dd><p>Values needed to plot a cost-effectiveness acceptability curve by
  group. The CEAC plots the probability that each strategy is more cost-effective than
  the comparator for the specified willingness to pay values.</p></dd>
   <dt>inmb</dt><dd><p>The mean, 2.5% quantile, and 97.5% quantile of
   incremental net monetary benefits for the range of specified willingness to pay values.</p></dd>
</dl>

    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># simulation output</span>
<span class='no'>n_samples</span> <span class='kw'>&lt;-</span> <span class='fl'>100</span>
<span class='no'>sim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(<span class='kw'>sample</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='no'>n_samples</span>), <span class='fl'>4</span>),
                  <span class='kw'>c</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Lognormal'>rlnorm</a></span>(<span class='no'>n_samples</span>, <span class='fl'>5</span>, <span class='fl'>.1</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Lognormal'>rlnorm</a></span>(<span class='no'>n_samples</span>, <span class='fl'>5</span>, <span class='fl'>.1</span>),
                        <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Lognormal'>rlnorm</a></span>(<span class='no'>n_samples</span>, <span class='fl'>11</span>, <span class='fl'>.1</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Lognormal'>rlnorm</a></span>(<span class='no'>n_samples</span>, <span class='fl'>11</span>, <span class='fl'>.1</span>)),
                  <span class='kw'>e</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='no'>n_samples</span>, <span class='fl'>8</span>, <span class='fl'>.2</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='no'>n_samples</span>, <span class='fl'>8.5</span>, <span class='fl'>.1</span>),
                        <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='no'>n_samples</span>, <span class='fl'>11</span>, <span class='fl'>.6</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='no'>n_samples</span>, <span class='fl'>11.5</span>, <span class='fl'>.6</span>)),
                  <span class='kw'>strategy</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/paste'>paste0</a></span>(<span class='st'>"Strategy "</span>, <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>1</span>, <span class='fl'>2</span>)),
                                 <span class='kw'>each</span> <span class='kw'>=</span> <span class='no'>n_samples</span> * <span class='fl'>2</span>),
                  <span class='kw'>grp</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Group 1"</span>, <span class='st'>"Group 2"</span>),
                            <span class='kw'>each</span> <span class='kw'>=</span> <span class='no'>n_samples</span>), <span class='fl'>2</span>)
)

<span class='co'># icea</span>
<span class='no'>icea</span> <span class='kw'>&lt;-</span> <span class='fu'>icea</span>(<span class='no'>sim</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0</span>, <span class='fl'>200000</span>, <span class='fl'>500</span>), <span class='kw'>sample</span> <span class='kw'>=</span> <span class='st'>"sample"</span>, <span class='kw'>strategy</span> <span class='kw'>=</span> <span class='st'>"strategy"</span>,
             <span class='kw'>grp</span> <span class='kw'>=</span> <span class='st'>"grp"</span>, <span class='kw'>e</span> <span class='kw'>=</span> <span class='st'>"e"</span>, <span class='kw'>c</span> <span class='kw'>=</span> <span class='st'>"c"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>icea</span>)</div><div class='output co'>#&gt; [1] "summary" "mce"     "evpi"    "nmb"    </div><div class='input'><span class='co'># The probability that each strategy is the most cost-effective </span>
<span class='co'># in each group with a willingness to pay of 20,000</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>"data.table"</span>)
<span class='no'>icea</span>$<span class='no'>mce</span>[<span class='no'>k</span> <span class='kw'>==</span> <span class='fl'>20000</span>]</div><div class='output co'>#&gt;        k   strategy     grp best prob
#&gt; 1: 20000 Strategy 1 Group 1    0 0.46
#&gt; 2: 20000 Strategy 2 Group 1    1 0.54
#&gt; 3: 20000 Strategy 1 Group 2    1 0.46
#&gt; 4: 20000 Strategy 2 Group 2    0 0.54</div><div class='input'>
<span class='co'># icea_pw</span>
<span class='no'>icea_pw</span> <span class='kw'>&lt;-</span>  <span class='fu'>icea_pw</span>(<span class='no'>sim</span>,  <span class='kw'>k</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0</span>, <span class='fl'>200000</span>, <span class='fl'>500</span>), <span class='kw'>comparator</span> <span class='kw'>=</span> <span class='st'>"Strategy 1"</span>,
                    <span class='kw'>sample</span> <span class='kw'>=</span> <span class='st'>"sample"</span>, <span class='kw'>strategy</span> <span class='kw'>=</span> <span class='st'>"strategy"</span>, <span class='kw'>grp</span> <span class='kw'>=</span> <span class='st'>"grp"</span>,
                     <span class='kw'>e</span> <span class='kw'>=</span> <span class='st'>"e"</span>, <span class='kw'>c</span> <span class='kw'>=</span> <span class='st'>"c"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>icea_pw</span>)</div><div class='output co'>#&gt; [1] "summary" "delta"   "ceac"    "inmb"   </div><div class='input'><span class='co'># cost-effectiveness acceptability curve</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>icea_pw</span>$<span class='no'>ceac</span>[<span class='no'>k</span> <span class='kw'>&gt;=</span> <span class='fl'>20000</span>])</div><div class='output co'>#&gt;        k   strategy     grp prob
#&gt; 1: 20000 Strategy 2 Group 1 0.54
#&gt; 2: 20000 Strategy 2 Group 2 0.54
#&gt; 3: 20500 Strategy 2 Group 1 0.58
#&gt; 4: 20500 Strategy 2 Group 2 0.58
#&gt; 5: 21000 Strategy 2 Group 1 0.65
#&gt; 6: 21000 Strategy 2 Group 2 0.59</div><div class='input'><span class='fu'><a href='icer_tbl.html'>icer_tbl</a></span>(<span class='no'>icea_pw</span>)</div><div class='output co'>#&gt; $`Group 1`
#&gt;                   Strategy 1 Strategy 2                
#&gt; Incremental QALYs "-"        "3.07 (1.93, 4.14)"       
#&gt; Incremental costs "-"        "59,943 (49,913, 70,885)" 
#&gt; Incremental NMB   "-"        "93,555 (35,062, 145,760)"
#&gt; ICER              "-"        "19,526"                  
#&gt; Conclusion        "-"        "Cost-effective"          
#&gt; 
#&gt; $`Group 2`
#&gt;                   Strategy 1 Strategy 2                
#&gt; Incremental QALYs "-"        "2.98 (1.88, 3.97)"       
#&gt; Incremental costs "-"        "60,164 (49,468, 76,002)" 
#&gt; Incremental NMB   "-"        "88,832 (30,027, 137,724)"
#&gt; ICER              "-"        "20,190"                  
#&gt; Conclusion        "-"        "Cost-effective"          
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Devin Incerti, Jeroen P. Jansen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

